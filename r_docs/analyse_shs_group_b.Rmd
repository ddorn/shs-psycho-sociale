---
title: "analyse_shs_groupe_b"
author: Salim Bechelabi, Marie Domingues Dos Santos, Diego Dorn, Justine Montavon,
  Mathieu Protais, Marie Randin
date: "3/2/2022"
output: html_document
---

```{r}
library(tidyverse)

#Visualisation
library(ggplot2)
library(ggthemes)
library(stats)
library(plotrix)
library(psych)

```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Tri des données

Nous avons supprimé les colonnes non-pertinantes pour notre étude. Le fichier resultant est [shs-1-only-interesting-columns.csv](./../data/shs-only-interesting-columns.csv).

Nous avons ensuite supprimé les colonnes de personnes n'ayant pas répondu aux questions de notre groupe (sur la MEJ):
[shs-2-removed-no-MEJ-response.csv](./../data/shs-2-removed-no-MEJ-response.csv)

Ensuite, nous avons supprimé toutes les réponses faites en moins de 10 minutes ou en plus d'une heure car cela ne semble pas une durée plausible pour répondre à l'enquête.

```{r}
all.dat <- read_csv("../data/final.csv")
```

## Description des données

```{r}
describe(all.dat)
```
NOTE: Qu'est-ce que je fais avec les gens non H/F ?

```{r}
group_by(all.dat, genre) %>% 
  dplyr::summarise(
    Nombre = n(), 
    Mediane = median(MEJ_1, na.rm = TRUE),
    EcartIQ = IQR(MEJ_1, na.rm = TRUE),
    Moyenne = mean(MEJ_1, na.rm = TRUE)
  )
```

```{r Add scenario }

all.dat$decr_scen <- is.na(all.dat["manifeste_time_d_First Click"])*1
t <- table(all.dat$decr_scen)
names(t) <- c('Croissant','Décroissant')
t

```

```{r Replace 'Je sais pas' with NaN}

mej.dat <- all.dat[grepl( "MEJ_" , names(all.dat))]
mej.dat[mej.dat == 10] <- NaN
view(mej.dat)

```

```{r}
MEJ_1.boxplot <- ggplot(tuto.dat, aes(sex, hi_salary)) # créer l'objet ainsi que insérer les data
hi_salary.boxplot + # + ajoute les layers
  geom_boxplot(size = 0.7,  alpha = 1, colour = "black", fill ="orange") + # quelques options du geom
  labs(x = "axe des x", y = "axe des y", title = "titre", subtitle = "sous-titre", caption = "légende")+ # les légendes 
  theme_bw() # un theme pour faire joli
```

